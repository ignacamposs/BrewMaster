<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrewMaster | Coffee Precision Tool</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-[#120a07] text-[#f5f0ed] min-h-screen flex items-center justify-center p-6">

    <div class="glass-container max-w-md w-full p-8 rounded-[2.5rem] border border-white/5 relative overflow-hidden">
        
        <header class="text-center mb-10">
            <span class="text-[#d4a373] font-mono text-[10px] tracking-[0.4em] uppercase font-bold">Specialty Analysis</span>
            <h1 class="text-4xl font-black italic uppercase tracking-tighter mt-2 text-[#fefae0]">BrewMaster</h1>
        </header>

        <div class="space-y-6">
            <div>
                <label class="block text-[10px] uppercase tracking-widest text-[#d4a373] mb-3 font-bold">Dosis de Café (Gramos)</label>
                <input type="number" id="input-cafe" placeholder="18" 
                    class="w-full bg-[#1c120e] border border-[#3d2b1f] rounded-2xl p-4 text-2xl font-bold focus:border-[#d4a373] text-white outline-none transition-all placeholder:text-white/10">
            </div>

            <div>
                <label class="block text-[10px] uppercase tracking-widest text-[#d4a373] mb-3 font-bold">Rendimiento (Gramos)</label>
                <input type="number" id="input-agua" placeholder="36" 
                    class="w-full bg-[#1c120e] border border-[#3d2b1f] rounded-2xl p-4 text-2xl font-bold focus:border-[#d4a373] text-white outline-none transition-all placeholder:text-white/10">
            </div>

            <button onclick="calcularExtraccion()" 
                class="w-full bg-[#d4a373] text-[#120a07] font-black uppercase tracking-widest py-5 rounded-2xl hover:bg-[#faedcd] transition-all duration-300 shadow-lg shadow-[#d4a373]/10">
                Calcular Ratio
            </button>
        </div>

        <div id="resultado" class="mt-8 pt-8 border-t border-white/5 text-center opacity-0 translate-y-4 transition-all duration-500">
            <div class="text-xs text-[#d4a373] uppercase tracking-[0.2em] font-bold">Ratio de Extracción</div>
            <div id="display-ratio" class="text-6xl font-black italic text-[#fefae0] my-2">1:2.0</div>
            <div id="display-msg" class="text-[10px] font-mono text-[#d4a373] uppercase tracking-widest bg-[#d4a373]/10 py-2 px-4 rounded-full inline-block uppercase">Espresso Ideal</div>
        </div>

        <div class="mt-8 pt-8 border-t border-white/5 text-center">
            <div class="text-[10px] text-[#d4a373] uppercase tracking-[0.2em] font-bold mb-6">Temporizador de Extracción</div>
            
            <div class="relative inline-flex items-center justify-center mb-6">
                <svg class="w-32 h-32 transform -rotate-90">
                    <circle cx="64" cy="64" r="58" stroke="currentColor" stroke-width="8" fill="transparent" class="text-white/5" />
                    <circle id="progress-ring" cx="64" cy="64" r="58" stroke="currentColor" stroke-width="8" fill="transparent" 
                        stroke-dasharray="364.4" stroke-dashoffset="364.4" class="text-[#d4a373] transition-all duration-100 ease-linear" />
                </svg>
                <span id="timer-display" class="absolute text-3xl font-black italic text-[#fefae0]">00s</span>
            </div>

            <div class="flex gap-4">
                <button id="btn-timer" onclick="toggleTimer()" 
                    class="flex-1 bg-transparent border-2 border-[#d4a373] text-[#d4a373] font-black uppercase tracking-widest py-4 rounded-2xl hover:bg-[#d4a373] hover:text-[#120a07] transition-all duration-300">
                    Iniciar
                </button>
                <button onclick="resetTimer()" 
                    class="px-6 bg-white/5 text-white/40 rounded-2xl hover:text-white transition-all">
                    ↺
                </button>
            </div>
        </div>

        <button onclick="guardarBrew()" 
            class="w-full mt-6 bg-white/5 border border-white/10 text-[#fefae0] font-bold uppercase tracking-widest py-3 rounded-xl hover:bg-white/10 transition-all">
            + Guardar esta extracción
        </button>

        <div id="historial-container" class="mt-10 pt-8 border-t border-white/5 hidden">
            <div class="flex justify-between items-center mb-6">
                <span class="text-[10px] text-[#d4a373] uppercase tracking-[0.2em] font-bold">Historial Reciente</span>
                <button onclick="borrarHistorial()" class="text-[10px] text-white/20 hover:text-red-400 uppercase tracking-widest">Limpiar</button>
            </div>
            <div id="lista-brews" class="space-y-3 max-h-60 overflow-y-auto pr-2">
                </div>
        </div>

    </div>

    <script src="app.js"></script>
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
</body>
</html>